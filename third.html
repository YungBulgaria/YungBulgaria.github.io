<!DOCTYPE html>
<html>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <title>
        Second page
    </title>
    <h1> 
        Welcome to the the real page!
    </h1>
    <body>
    
        <button onclick="window.location.href='index.html'"> Go back to main page </button>
    </body>

<body onload="init()">

    <svg width="800" height = "400"></svg>

    <script> 
        const url = "https://YungBulgaria.github.io/Data/cars2017.csv"

        async function init() {

            const data = await d3.csv(url)
            const svg = d3.select("svg").append("g").attr("transform", "translate(50,50)");

            const margin = { top: 50, right: 30, bottom: 30, left: 50 };
            const width = 800 - margin.left - margin.right;
            const height = 400 - margin.top - margin.bottom;

            const xScale = d3.scaleLinear()
                .domain([1,12])
                .range([width,0])

            const yScale = d3.scaleLinear()
                .domain([0, 60])
                .range([height, 0]);
            const xAxis = d3.axisBottom(xScale)
                .tickValues([1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12])
                .tickFormat(d3.format("~s"));

            const yAxis = d3.axisLeft(yScale)
                .tickValues([10, 20, 30, 40, 50, 60])
                .tickFormat(d3.format("~s"));

            svg.selectAll("circle")
                .data(data)
                .enter()
                .attr("cx", d => xScale(d["AverageCityMPG"]))
                .append("circle")
                .attr("cy", d => yScale(d["AverageHighwayMPG"]))
                .attr("r", d => 2 + +d["EngineCylinders"]);
    }
    </script>
</body>
    
</html>